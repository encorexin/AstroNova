---
import BaseLayout from '@/layouts/BaseLayout.astro';
import { siteConfig } from '@/config/site';
import { getEntry } from 'astro:content';

// 使用Astro Content Collections获取about页面内容
const aboutEntry = await getEntry('pages', 'about');

if (!aboutEntry) {
  throw new Error('找不到about.md文件，请确保文件存在于src/content/pages/about.md');
}

const { data, render } = aboutEntry;
const { Content } = await render();
---

<BaseLayout
  title={`${data.title} - ${siteConfig.title}`}
  description={data.description}
>
  <section class="container py-12">
    <div class="mx-auto max-w-3xl">
      <div class="prose-custom prose max-w-none dark:prose-invert">
        <Content />
        
        <!-- 社交链接部分 -->
        <div class="mt-12 border-t pt-8">
          <h2 class="text-2xl font-bold mb-4">联系我们</h2>
          <p class="mb-4">
            我们很乐意听到您的声音！通过以下渠道联系我们：
          </p>
          
          <div class="flex flex-wrap gap-4">
            {
              siteConfig.social.github && (
                <a
                  href={siteConfig.social.github}
                  class="inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90"
                  target="_blank"
                  rel="noreferrer"
                >
                  GitHub
                </a>
              )
            }

            {
              siteConfig.social.twitter && (
                <a
                  href={siteConfig.social.twitter}
                  class="inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90"
                  target="_blank"
                  rel="noreferrer"
                >
                  Twitter
                </a>
              )
            }

            {
              siteConfig.social.linkedin && (
                <a
                  href={siteConfig.social.linkedin}
                  class="inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90"
                  target="_blank"
                  rel="noreferrer"
                >
                  LinkedIn
                </a>
              )
            }
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
